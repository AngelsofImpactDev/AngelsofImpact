<?php function ue_query($ue_queryQuery){return @ mysqli_query($GLOBALS['mysql_connect_init'],$ue_queryQuery);}function ue_fetch_array($ue_fetch_arrayRow){return @ mysqli_fetch_array($ue_fetch_arrayRow);}function ue_fetch_row($ue_fetch_rowRow){return mysqli_fetch_row($ue_fetch_rowRow);}function ue_num_rows($ue_num_rowsRow){return mysqli_num_rows($ue_num_rowsRow);}function ue_real_escape_string($ue_real_escape_stringRow){return @ mysqli_real_escape_string($GLOBALS['mysql_connect_init'],$ue_real_escape_stringRow);}function ue_close($ue_closeCon){return mysqli_close($ue_closeCon);}function ue_setcookie($ue_setcookieName,$ue_setcookieValue,$ue_setcookieExpire){if($GLOBALS['ue_globvar_https_enabled']){$setcookieSecurFlag=true;}else{$setcookieSecurFlag=false;}if($GLOBALS['ue_mysql_connect_mode']=='dev'){@ setcookie($ue_setcookieName,$ue_setcookieValue,$ue_setcookieExpire,'/','',$setcookieSecurFlag);}else{@ setcookie($ue_setcookieName,$ue_setcookieValue,$ue_setcookieExpire,'/',$GLOBALS['globvar_address'],$setcookieSecurFlag);}}function callPart($callPartFileName){include('ue-config/ue-parts/'.$callPartFileName.'.php');}function ueEncrypt($ueEncryptInputStr,$ueEncryptMode){$ueEncryptInputStr="$ueEncryptInputStr";$ueEncryptGlobMd=md5($globvar_adminidsite);$ueEncryptKeyArr=array();$ueEncryptKeyArr['a']='1';$ueEncryptKeyArr['b']='q';$ueEncryptKeyArr['c']='5';$ueEncryptKeyArr['d']='v';$ueEncryptKeyArr['e']='s';$ueEncryptKeyArr['f']='z';$ueEncryptKeyArr['g']='p';$ueEncryptKeyArr['h']='7';$ueEncryptKeyArr['i']='2';$ueEncryptKeyArr['j']='d';$ueEncryptKeyArr['k']='f';$ueEncryptKeyArr['l']='n';$ueEncryptKeyArr['m']='r';$ueEncryptKeyArr['n']='b';$ueEncryptKeyArr['o']='g';$ueEncryptKeyArr['p']='h';$ueEncryptKeyArr['q']='w';$ueEncryptKeyArr['r']='k';$ueEncryptKeyArr['s']='i';$ueEncryptKeyArr['t']='m';$ueEncryptKeyArr['u']='0';$ueEncryptKeyArr['v']='j';$ueEncryptKeyArr['w']='a';$ueEncryptKeyArr['x']='4';$ueEncryptKeyArr['y']='e';$ueEncryptKeyArr['z']='l';$ueEncryptKeyArr['0']='t';$ueEncryptKeyArr['1']='3';$ueEncryptKeyArr['2']='9';$ueEncryptKeyArr['3']='x';$ueEncryptKeyArr['4']='8';$ueEncryptKeyArr['5']='o';$ueEncryptKeyArr['6']='c';$ueEncryptKeyArr['7']='6';$ueEncryptKeyArr['8']='y';$ueEncryptKeyArr['9']='u';switch($ueEncryptMode){case 'enc':$ueEncryptRes=$ueEncryptGlobMd['3'].$ueEncryptGlobMd['5'].$ueEncryptGlobMd['1'];for($i=0;$i<strlen($ueEncryptInputStr);$i++){$ueEncryptRes.=$ueEncryptKeyArr[$ueEncryptInputStr[$i]];}$ueEncryptRes.=$ueEncryptGlobMd['8'].$ueEncryptGlobMd['2'].$ueEncryptGlobMd['7'];break;case 'dec':$ueEncryptRes='';$ueEncryptResTmp=substr(strtolower($ueEncryptInputStr),3);$ueEncryptResTmp=substr($ueEncryptResTmp,0,-3);for($i=0;$i<strlen($ueEncryptResTmp);$i++){$ueEncryptRes.=array_search($ueEncryptResTmp["$i"],$ueEncryptKeyArr);}break;default:$ueEncryptRes=false;break;}return $ueEncryptRes;}function ueGetClientIp(){if(!empty($_SERVER['HTTP_CLIENT_IP'])){$ip=$_SERVER['HTTP_CLIENT_IP'];}elseif(!empty($_SERVER['HTTP_X_FORWARDED_FOR'])){$ip=$_SERVER['HTTP_X_FORWARDED_FOR'];}else{$ip=$_SERVER['REMOTE_ADDR'];}return $ip;}function ueRecentProduct($ueRecentProductCurProId,$ueRecentProductMaxLimit=8,$ueRecentProductMaxDays=7){$ueRecentProductMaxTime=$ueRecentProductMaxDays*86400;$ueRecentProductCurProId=(int)$ueRecentProductCurProId;$ueRecentProductCurProId="$ueRecentProductCurProId";if(currentPage()=='productdetail.php'){if(!$_COOKIE['ueRePro']){ue_setcookie('ueRePro',$ueRecentProductCurProId.'|',time()+$ueRecentProductMaxTime);}else{$ueReProCookieStr=$_COOKIE['ueRePro'];$ueReProArr=explode('|',$ueReProCookieStr);if(count($ueReProArr)<=$ueRecentProductMaxLimit){if(!in_array($ueRecentProductCurProId,$ueReProArr)){$ueReProCookieStr.=$ueRecentProductCurProId.'|';}}else{if(!in_array($ueRecentProductCurProId,$ueReProArr)){$ueReProCookieStr='';for($i=1;$i<(count($ueReProArr)-1);$i++){$ueReProCookieStr.=$ueReProArr["$i"].'|';}$ueReProCookieStr.=$ueRecentProductCurProId.'|';}}ue_setcookie('ueRePro',$ueReProCookieStr,time()+$ueRecentProductMaxTime);}}return $_COOKIE['ueRePro'];}function ueCheckCaptcha($ueCheckCaptchaInput){@ session_start();if(strtolower($ueCheckCaptchaInput)===strtolower($_SESSION['ue-captcha']['code'])){return true;}else{return false;}}function ueWritePage($ueWritePageStr,$ueWritePageAllowHtml=false){if($ueWritePageAllowHtml==true){$ueWritePageStr=htmlspecialchars_decode($ueWritePageStr,ENT_QUOTES);}$ueWritePageClean=stripcslashes($ueWritePageStr);return $ueWritePageClean;}function ueGetSiteData($ueGetSiteDataName){$ueGetSiteDataQue=ue_query("SELECT sitedata_content FROM sitedata WHERE sitedata_title = '$ueGetSiteDataName' LIMIT 1");@ $ueGetSiteDataRes=ue_fetch_array($ueGetSiteDataQue);return $ueGetSiteDataRes['sitedata_content'];}function ueGetPurchaseExpiry($ueGetPurchaseExpiryPurchaseCode,$ueGetPurchaseExpiryTime){$ueGetPurchaseExpiryCurTime=time();$ueGetPurchaseDate=ue_query("SELECT purchase_entrydate FROM purchase WHERE purchase_code = '$ueGetPurchaseExpiryPurchaseCode' LIMIT 1");@ $ueGetPurchaseDateRes=ue_fetch_array($ueGetPurchaseDate);$ueGetPurchaseExpiryCheckedTime=(int)$ueGetPurchaseDateRes['purchase_entrydate'] +(int)($ueGetPurchaseExpiryTime*86400);if($ueGetPurchaseExpiryCurTime>$ueGetPurchaseExpiryCheckedTime){return false;}else{return true;}}function ueColumnSort(){if($_GET['orderby']=='asc'){$ueColumnSortReturn='desc';}else{$ueColumnSortReturn='asc';}return $ueColumnSortReturn;}function ueUpdateLastEditedDate($ueUpdateLastEditedDateTableName,$ueUpdateLastEditedDateTableId){$ueUpdateLastEditedDateCurrentTime=time();$ueUpdateLastEditedDateQueStr="UPDATE ".$ueUpdateLastEditedDateTableName." SET ".$ueUpdateLastEditedDateTableName."_editdate = '".$ueUpdateLastEditedDateCurrentTime."' WHERE ".$ueUpdateLastEditedDateTableName."_id = '".$ueUpdateLastEditedDateTableId."' LIMIT 1";if(@ue_query($ueUpdateLastEditedDateQueStr)){return true;}else{return false;}}function ueCreateInputText($ueCreateInputName,$ueCreateInputValueCreate,$ueCreateInputValue,$ueCreateInputPlaceholder=''){if($_COOKIE["$ueCreateInputName"]!=''){@ $ueCreateInputValueWrite=$_COOKIE["$ueCreateInputName"];}else if($ueCreateInputValue!=''){$ueCreateInputValueWrite=$ueCreateInputValue;}else{$ueCreateInputValueWrite=$ueCreateInputValueCreate;}$ueCreateInputReturn='<input name="'.$ueCreateInputName.'" id="'.$ueCreateInputName.'" placeholder="'.$ueCreateInputPlaceholder.'" class="ueInputText" type="text" value="'.$ueCreateInputValueWrite.'" />';return $ueCreateInputReturn;}function ueCreateInputTextarea($ueCreateInputTextareaName,$ueCreateInputTextareaCreate,$ueCreateInputTextareaValue,$ueCreateInputTextareaPlaceholder=''){if($_COOKIE["$ueCreateInputTextareaName"]!=''){@ $ueCreateInputValueTextareaWrite=$_COOKIE["$ueCreateInputTextareaName"];}else if($ueCreateInputTextareaValue!=''){$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaValue;}else{$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaCreate;}$ueCreateInputTextareaReturn='<textarea name="'.$ueCreateInputTextareaName.'" id="'.$ueCreateInputTextareaName.'" placeholder="'.$ueCreateInputTextareaPlaceholder.'" class="ueInputTextarea">'.stripslashes($ueCreateInputValueTextareaWrite).'</textarea>';return $ueCreateInputTextareaReturn;}function ueCreateInputTextareaRTF($ueCreateInputTextareaName,$ueCreateInputTextareaCreate,$ueCreateInputTextareaValue,$ueCreateInputTextareaPlaceholder=''){if($_COOKIE["$ueCreateInputTextareaName"]!=''){@ $ueCreateInputValueTextareaWrite=$_COOKIE["$ueCreateInputTextareaName"];}else if($ueCreateInputTextareaValue!=''){$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaValue;}else{$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaCreate;}$ueCreateInputTextareaReturn='<textarea name="'.$ueCreateInputTextareaName.'" id="'.$ueCreateInputTextareaName.'" placeholder="'.$ueCreateInputTextareaPlaceholder.'" class="editme">'.stripslashes($ueCreateInputValueTextareaWrite).'</textarea>';return $ueCreateInputTextareaReturn;}function ueCreateInputDate($ueCreateInputDateName,$ueCreateInputDateValueCreate,$ueCreateInputDateValue,$ueCreateInputDateMode='',$ueCreateInputDatePlaceholder='',$ueCreateInputDateShowClear=true){$ueCreateInputDateFinalReturn='';if(!$GLOBALS['ueCreateInputDateThisPageCreated']){$GLOBALS['ueCreateInputDateThisPageCreated']=true;$ueCreateInputDateFinalReturn.='<link rel="stylesheet" href="ue-js/uedatepicker/style.css" type="text/css" /><script type="text/javascript" src="ue-js/uedatepicker/zebra_datepicker.js"></script>';}if($_COOKIE["$ueCreateInputDateName"]!=''){@ $ueCreateInputValueWrite=$_COOKIE["$ueCreateInputDateName"];}else if(is_numeric($ueCreateInputDateValue)){$ueCreateInputValueWrite=unixtodatedmy($ueCreateInputDateValue,'');}else if($ueCreateInputDateValue!=''){$ueCreateInputValueWrite=$ueCreateInputDateValue;}else{$ueCreateInputValueWrite=$ueCreateInputDateValueCreate;}if($ueCreateInputDateShowClear){$ueCreateInputDateShowClear='true';}else{$ueCreateInputDateShowClear='false';}if($ueCreateInputDateMode=='past'){$ueCreateInputDateMode='-1';}else if($ueCreateInputDateMode=='future'){$ueCreateInputDateMode='1';}else if($ueCreateInputDateMode=='futurenow'){$ueCreateInputDateMode='true';}else{$ueCreateInputDateMode='';}$ueCreateInputDateFinalReturn.="
		<input type='text' id='".$ueCreateInputDateName."' name='".$ueCreateInputDateName."' class='ueInputText' value='".$ueCreateInputValueWrite."' />
		<div id='visibleContainer".$ueCreateInputDateName."' class='datepickeralwaysvisiblecontainer'></div>
		<script type='text/javascript'>
			$('#".$ueCreateInputDateName."').Zebra_DatePicker({
				always_visible: $('#visibleContainer".$ueCreateInputDateName."'),
				format: 'j F Y',
				show_clear_date: ".$ueCreateInputDateShowClear.",
				direction: ".$ueCreateInputDateMode.",
				onSelect: function() {
					$.magnificPopup.close();
				}
			});
			$('#".$ueCreateInputDateName."').click(function() {
				$.magnificPopup.open({items: {src: '#visibleContainer".$ueCreateInputDateName."'}, type: 'inline'});
			});
			$('#visibleContainer".$ueCreateInputDateName."').addClass('ue-modal mfp-hide');
		</script>
	";return $ueCreateInputDateFinalReturn;}function ueRTFIurlChanger($ueRTFIurlChangerDesc,$ueRTFIurlChangerMode='read'){switch($ueRTFIurlChangerMode){case 'read':$ueRTFIurlChangerDesc=str_replace('upload/generalImage/','../upload/generalImage/',$ueRTFIurlChangerDesc);break;case 'write':$ueRTFIurlChangerDesc=str_replace('../upload/generalImage/','upload/generalImage/',$ueRTFIurlChangerDesc);break;}return $ueRTFIurlChangerDesc;}function ueRTFIdeleteOrphan($ueRTFIdeleteOrphanBefore,$ueRTFIdeleteOrphanAfter){$ueRTFIdeleteOrphanBefore=ueWritePage($ueRTFIdeleteOrphanBefore,true);$ueRTFIdeleteOrphanBeforeArr=explode('<img src="upload/generalImage/',$ueRTFIdeleteOrphanBefore);foreach($ueRTFIdeleteOrphanBeforeArr as $ueRTFIdeleteOrphanBeforeKey=>$ueRTFIdeleteOrphanBeforeVal){$fileNameCheck=explode('"',$ueRTFIdeleteOrphanBeforeVal,2);$ueRTFIdeleteOrphanBeforeArr[$ueRTFIdeleteOrphanBeforeKey]=$fileNameCheck[0];}foreach($ueRTFIdeleteOrphanBeforeArr as $ueRTFIdeleteOrphanBeforeKey=>$ueRTFIdeleteOrphanBeforeVal){$fileNameCheck=explode('.',$ueRTFIdeleteOrphanBeforeVal,2);if($fileNameCheck[1]!='jpg'&&$fileNameCheck[1]!='jpeg'&&$fileNameCheck[1]!='png'&&$fileNameCheck[1]!='gif'){unset($ueRTFIdeleteOrphanBeforeArr[$ueRTFIdeleteOrphanBeforeKey]);}}if(is_array($_SESSION['tmpUploadRTFI'])){$ueRTFIdeleteOrphanBeforeArr=array_merge($ueRTFIdeleteOrphanBeforeArr,$_SESSION['tmpUploadRTFI']);}$ueRTFIdeleteOrphanAfter=ueWritePage($ueRTFIdeleteOrphanAfter,true);$ueRTFIdeleteOrphanAfterArr=explode('<img src="upload/generalImage/',$ueRTFIdeleteOrphanAfter);foreach($ueRTFIdeleteOrphanAfterArr as $ueRTFIdeleteOrphanAfterKey=>$ueRTFIdeleteOrphanAfterVal){$fileNameCheck=explode('"',$ueRTFIdeleteOrphanAfterVal,2);$ueRTFIdeleteOrphanAfterArr[$ueRTFIdeleteOrphanAfterKey]=$fileNameCheck[0];}foreach($ueRTFIdeleteOrphanAfterArr as $ueRTFIdeleteOrphanAfterKey=>$ueRTFIdeleteOrphanAfterVal){$fileNameCheck=explode('.',$ueRTFIdeleteOrphanAfterVal,2);if($fileNameCheck[1]!='jpg'&&$fileNameCheck[1]!='jpeg'&&$fileNameCheck[1]!='png'&&$fileNameCheck[1]!='gif'){unset($ueRTFIdeleteOrphanAfterArr[$ueRTFIdeleteOrphanAfterKey]);}}foreach($ueRTFIdeleteOrphanBeforeArr as $ueRTFIdeleteOrphanBeforeArrKey=>$ueRTFIdeleteOrphanBeforeArrVal){if(!in_array($ueRTFIdeleteOrphanBeforeArrVal,$ueRTFIdeleteOrphanAfterArr)){@ unlink('../upload/generalImage/'.$ueRTFIdeleteOrphanBeforeArrVal);}}unset($_SESSION['tmpUploadRTFI']);}function ueCreateInputTextareaRTFI($ueCreateInputTextareaName,$ueCreateInputTextareaCreate,$ueCreateInputTextareaValue){if($_COOKIE["$ueCreateInputTextareaName"]!=''){@ $ueCreateInputValueTextareaWrite=$_COOKIE["$ueCreateInputTextareaName"];$ueCreateInputValueTextareaWrite=str_replace('../upload/generalImage/','upload/generalImage/',$ueCreateInputValueTextareaWrite);}else if($ueCreateInputTextareaValue!=''){$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaValue;}else{$ueCreateInputValueTextareaWrite=$ueCreateInputTextareaCreate;}$ueCreateInputTextareaReturn='<textarea name="'.$ueCreateInputTextareaName.'" id="'.$ueCreateInputTextareaName.'" class="editmeImage">'.stripslashes(ueRTFIurlChanger($ueCreateInputValueTextareaWrite,'read')).'</textarea>';return $ueCreateInputTextareaReturn;}function ueCreateInputRadio($ueCreateInputRadioArr,$ueCreateInputRadioDefaultValueCreate,$ueCreateInputRadioDefaultValue){$ueCreateInputRadioReturn='';foreach($ueCreateInputRadioArr['list'] as $ueCreateInputRadioArrKey=>$ueCreateInputRadioArrVal){if($_COOKIE[$ueCreateInputRadioArr['name']]!=''){if($ueCreateInputRadioArrVal==$_COOKIE[$ueCreateInputRadioArr['name']]){$ueCreateInputRadioChecked=' checked="checked"';}else{$ueCreateInputRadioChecked='';}}else if($ueCreateInputRadioDefaultValue!=''){if($ueCreateInputRadioDefaultValue==$ueCreateInputRadioArrVal){$ueCreateInputRadioChecked=' checked="checked"';}else{$ueCreateInputRadioChecked='';}}else{if($ueCreateInputRadioDefaultValueCreate==$ueCreateInputRadioArrVal){$ueCreateInputRadioChecked=' checked="checked"';}else{$ueCreateInputRadioChecked='';}}$ueCreateInputRadioReturn.='<label><input name="'.$ueCreateInputRadioArr['name'].'" id="'.$ueCreateInputRadioArr['name'].'" class="ueInputRadio" type="radio" value="'.$ueCreateInputRadioArrVal.'"'.$ueCreateInputRadioChecked.' /> '.$ueCreateInputRadioArrKey.'</label>';$ueCreateInputRadioArrNum++;}return $ueCreateInputRadioReturn;}function ueCreateSelectOption($ueCreateSelectOptionArr,$ueCreateSelectOptionDefaultValueCreate,$ueCreateSelectOptionDefaultValue,$ueCreateSelectOptionDefaultPlaceholder='- Please Select -',$ueCreateSelectOptionChosenSta=true){if($_COOKIE[$ueCreateSelectOptionArr['name']]!=''){@ $ueCreateSelectOptionDefaultValue=$_COOKIE[$ueCreateSelectOptionArr['name']];}else if($ueCreateSelectOptionDefaultValue!=''){$ueCreateSelectOptionDefaultValue=$ueCreateSelectOptionDefaultValue;}else{$ueCreateSelectOptionDefaultValue=$ueCreateSelectOptionDefaultValueCreate;}$ueCreateSelectOptionListStr='';foreach($ueCreateSelectOptionArr['list'] as $ueCreateSelectOptionKey=>$ueCreateSelectOptionVal){if($ueCreateSelectOptionKey==$ueCreateSelectOptionDefaultValue&&$ueCreateSelectOptionDefaultValue!=''&&$ueCreateSelectOptionDefaultValue!=false){$ueCreateSelectOptionSelStr=' selected="selected"';}else{$ueCreateSelectOptionSelStr='';}$ueCreateSelectOptionListStr.='<option value="'.$ueCreateSelectOptionKey.'"'.$ueCreateSelectOptionSelStr.'>'.$ueCreateSelectOptionVal.'</option>';}if(!$ueCreateSelectOptionChosenSta){$chosenDisabledString=' data-chosen="disabled"';}if($ueCreateSelectOptionDefaultPlaceholder===false||$ueCreateSelectOptionDefaultPlaceholder===''){$ueCreateSelectOptionDefaultPlaceholderString='';}else{$ueCreateSelectOptionDefaultPlaceholderString='<option value="">'.$ueCreateSelectOptionDefaultPlaceholder.'</option>';}$ueCreateSelectOptionReturnStr='
	<select name="'.$ueCreateSelectOptionArr['name'].'"'.$chosenDisabledString.'>
		'.$ueCreateSelectOptionDefaultPlaceholderString.'
		'.$ueCreateSelectOptionListStr.'
	</select>
	';return $ueCreateSelectOptionReturnStr;}function ueCreateInputFile($ueCreateInputFileName,$ueCreateInputFileAllow='all'){if($ueCreateInputFileAllow=='image'){$ueCreateInputFileAcceptAttr=' accept="image/*"';}else if($ueCreateInputFileAllow=='audio'){$ueCreateInputFileAcceptAttr=' accept="audio/*"';}else if($ueCreateInputFileAllow=='video'){$ueCreateInputFileAcceptAttr=' accept="video/*"';}else if($ueCreateInputFileAllow!=''){$ueCreateInputFileAcceptAttr=' accept="'.$ueCreateInputFileAllow.'"';}else{$ueCreateInputFileAcceptAttr='';}return '<input name="'.$ueCreateInputFileName.'" class="ueInputFile" type="file"'.$ueCreateInputFileAcceptAttr.' />';}function ueReceiveInput($ueReceiveInputKey,$ueReceiveInputVal,$ueReceiveInputKeyCookieFlag=true){$ueReceiveInputIllegalCharsOne=array("'",'"');if($ueReceiveInputKeyCookieFlag==true){@ ue_setcookie($ueReceiveInputKey,$ueReceiveInputVal,time()+1);}if(!is_array($ueReceiveInputVal)){if($ueReceiveInputKey!='pageparam'){$ueReceiveInputValReturn=htmlspecialchars($ueReceiveInputVal,ENT_QUOTES);}else{$ueReceiveInputValReturn=$ueReceiveInputVal;}foreach($ueReceiveInputIllegalCharsOne as $ueReceiveInputIllegalCharsOneKey=>$ueReceiveInputIllegalCharsOneVal){if(strstr($ueReceiveInputValReturn,$ueReceiveInputIllegalCharsOneVal)!=false){$ueReceiveInputValReturn=ue_real_escape_string($ueReceiveInputValReturn);break;}}}else{$ueReceiveInputValReturn=array();foreach($ueReceiveInputVal as $ueReceiveInputValKey=>$ueReceiveInputValVal){if($ueReceiveInputKey!='pageparam'){$ueReceiveInputValReturn["$ueReceiveInputValKey"]=htmlspecialchars($ueReceiveInputValVal,ENT_QUOTES);}else{$ueReceiveInputValReturn=$ueReceiveInputVal;}foreach($ueReceiveInputIllegalCharsOne as $ueReceiveInputIllegalCharsOneKey=>$ueReceiveInputIllegalCharsOneVal){if(strstr($ueReceiveInputValReturn["$ueReceiveInputValKey"],$ueReceiveInputIllegalCharsOneVal)!=false){$ueReceiveInputValReturn["$ueReceiveInputValKey"]=ue_real_escape_string($ueReceiveInputValReturn["$ueReceiveInputValKey"]);break;}}}}return $ueReceiveInputValReturn;}function unixtodate($unixtodateStr,$unixtodateCheckLow=false){if($unixtodateCheckLow==true){if($unixtodateStr<=0){return 'Never';}else{return date("d-m-y",(int)$unixtodateStr);}}else{return date("d-m-y",(int)$unixtodateStr);}}function unixtodatedmy($unixtodatedmyStr,$unixtodatedmyCheckLow=false){if($unixtodatedmyStr<=0&&is_string($unixtodatedmyCheckLow)==true){return $unixtodatedmyCheckLow;}else if($unixtodatedmyStr<=0){return 'Never';}else{return date("j F Y",(int)$unixtodatedmyStr);}}function unixtodatefull($unixtodatefull,$unixtodatefullCheckLow=false){if($unixtodatefullCheckLow==true){if($unixtodatefull<=0){return 'Never';}else{return date("j F Y, h:i:s A",(int)$unixtodatefull);}}else{return date("j F Y, h:i:s A",(int)$unixtodatefull);}}function nohtml($nohtmlStr){return strip_tags($nohtmlStr);}function pageParamsFormat($pageParamsFormatArr,$pageParamsFormatInitArr=array()){$pageParamsFormatInc=1;$pageParamsFormatReturn='';if(count($pageParamsFormatArr)>0){foreach($pageParamsFormatArr as $pageParamsFormatArrKey=>$pageParamsFormatVal){if($_GET["$pageParamsFormatVal"]!=''||$pageParamsFormatInitArr["$pageParamsFormatVal"]!=''){if($pageParamsFormatInc==1&&$pageParamsFormatMode!='pgSel'){$pageParamsFormatSeparator='?';}else{$pageParamsFormatSeparator='&';}if(@array_key_exists($pageParamsFormatVal,$pageParamsFormatInitArr)){if($pageParamsFormatInitArr["$pageParamsFormatVal"]!=''){$pageParamsFormatReturn.=$pageParamsFormatSeparator.$pageParamsFormatVal.'='.$pageParamsFormatInitArr["$pageParamsFormatVal"];$pageParamsFormatInc++;}}else{$pageParamsFormatReturn.=$pageParamsFormatSeparator.$pageParamsFormatVal.'='.$_GET["$pageParamsFormatVal"];$pageParamsFormatInc++;}}}}if($pageParamsFormatInc==1){$pageParamsFormatReturn.='?';}return $pageParamsFormatReturn;}function autoIncrementNext($autoIncrementNextTableName){$autoIncrementNextQue="SHOW TABLE STATUS LIKE '$autoIncrementNextTableName'";$autoIncrementNextGo=ue_query($autoIncrementNextQue);$autoIncrementNextRes=ue_fetch_array($autoIncrementNextGo);return $autoIncrementNextRes['Auto_increment'];}function urlRewriter($rewritePageName,$rewritePageId,$rewritePageTitle=''){$rewritePageTitle=html_entity_decode($rewritePageTitle,ENT_QUOTES);$notAllowedUrlChars=array(':','?','#','[',']','/','*');if($rewritePageName==$globvar_address){$useUrl=$globvar_address;}else{$useUrl='';}$urlRewrited=str_replace($notAllowedUrlChars,'',ucwords($rewritePageTitle)).'-'.$useUrl.$rewritePageId;$urlRewrited=preg_replace('/\s+/','-',$urlRewrited);return $urlRewrited;}function wwwFix(){$pageURL=(@$_SERVER["HTTPS"]=="on")?"https://":"http://";if(preg_match('/^www./',$_SERVER['HTTP_HOST'])){if($_SERVER["SERVER_PORT"]!="80"){$pageURL.=str_replace('www.','',$_SERVER['HTTP_HOST']).":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];}else{$pageURL.=str_replace('www.','',$_SERVER['HTTP_HOST']).$_SERVER["REQUEST_URI"];}header("Location: $pageURL");}}function currentPage($currentPageMode=''){$fairu=$_SERVER["SCRIPT_NAME"];$bureq=explode('/',$fairu);$pfile=$bureq[count($bureq)- 1];if($currentPageMode=='clean'){$pfile=str_replace('.php','',$pfile);$pfile=str_replace('.html','',$pfile);$pfile=str_replace('.htm','',$pfile);}else if($currentPageMode=='full'){$pfile=htmlspecialchars($_SERVER['REQUEST_URI'],ENT_QUOTES);}return $pfile;}function htmlImageResize($htmlImageResizeFile,$htmlImageResizeFileMaxWidth,$htmlImageResizeFileMaxHeight){$image=$htmlImageResizeFile;$maxWidth=(int)$htmlImageResizeFileMaxWidth;$maxHeight=(int)$htmlImageResizeFileMaxHeight;@ $dimensions=getimagesize($image);if($dimensions['0']<$maxWidth&&$dimensions['1']<$maxHeight){$size='';}else{$width_percentage=$maxWidth/$dimensions['0'];$height_percentage=$maxHeight/$dimensions['1'];if($width_percentage<=$height_percentage){$new_width=$width_percentage*$dimensions['0'];$new_height=$width_percentage*$dimensions['1'];}else{$new_width=$height_percentage*$dimensions['0'];$new_height=$height_percentage*$dimensions['1'];}$size='width="'.round((int)$new_width).'" height="'.round((int)$new_height).'"';}return $size;}function rebuiltMultiImage($rebuiltMultiImageName,$rebuiltMultiImageType,$rebuiltMultiImageTmpname,$rebuiltMultiImageError,$rebuiltMultiImageSize){$rebuiltImageArray=array('name'=>$rebuiltMultiImageName,'type'=>$rebuiltMultiImageType,'tmp_name'=>$rebuiltMultiImageTmpname,'error'=>$rebuiltMultiImageError,'size'=>$rebuiltMultiImageSize);return $rebuiltImageArray;}function sendMail($kepada,$from,$title,$body_message,$bcc=''){$to=$kepada;if(preg_match('/@yahoo/',$to)){$bcc="-f ";}$subject=$title;$headers='MIME-Version: 1.0'."\r\n";$headers.='Content-type: text/html; charset=iso-8859-1'."\r\n";$headers.="From: ".$GLOBALS['globvar_sitename']." <".$from.">\r\n";$headers.='Reply-To: '.$from."\r\n";if($bcc!=''){$headers.='Bcc: '.$bcc."\r\n";}$headers.='X-Mailer: PHP/'.phpversion();$message=$body_message;$sendMailSta=mail($to,$subject,$message,$headers);return true;}function smtpMail($smtpMailFrom,$smtpMailFromName,$smtpMailPassword,$smtpMailTo,$smtpMailSubject,$smtpMailMessage,$smtpMailHost='local',$smtpAwsLoginName=''){if(is_file('ue-config/ue-function/ue-swiftmailer/swift_required.php')){require_once 'ue-config/ue-function/ue-swiftmailer/swift_required.php';}else{require_once '../ue-config/ue-function/ue-swiftmailer/swift_required.php';}if(!$smtpMailFromName){$smtpMailFromName=$GLOBALS['globvar_sitename'];}switch($smtpMailHost){case 'gmail':$host="ssl://smtp.gmail.com";$port="465";$username="$smtpMailFrom";$password="$smtpMailPassword";break;case 'hotmail':$host="smtp.live.com";$port="587";$username="$smtpMailFrom";$password="$smtpMailPassword";break;case 'yahoo':$host="smtp.mail.yahoo.com";$port="25";$username="$smtpMailFrom";$password="$smtpMailPassword";break;case 'local':$host="mail.".$GLOBALS['globvar_address'];$port="26";$username="$smtpMailFrom";$password="$smtpMailPassword";break;}$transport=Swift_SmtpTransport::newInstance("$host",$port)->setUsername("$username")->setPassword("$password");$mailer=Swift_Mailer::newInstance($transport);$message=Swift_Message::newInstance("$smtpMailSubject")->setFrom(array("$smtpMailFrom"=>"$smtpMailFromName"))->setTo(array("$smtpMailTo"))->setBody($smtpMailMessage,'text/html');$result=$mailer->send($message);if($result){return true;}else{return false;}}function tooltip($tooltipText=""){if($tooltipText!=''){$tooltipReturn=' class="tooltip" title=\''.$tooltipText.'\'';}return $tooltipReturn;}function moneyFormat($moneyNumber,$matauang='IDR'){if($moneyNumber<0){$moneyFormatResult='IDR 0';}else{$moneyFormatResult=$matauang.' '.number_format((int)$moneyNumber,0,',','.');}return $moneyFormatResult;}function supermegahyperunbelieveablyawesomeencrypter($benang,$mode){$benang="$benang";$abj=array('j','i','h','g','f','e','d','c','b','a');$panjang=strlen($benang);$hasil='';switch($mode){case 'enc':$mdbenang=md5($benang);$hasilenc='';for($i=0;$i<$panjang;$i++){$hasilenc=$hasilenc.$abj[$benang[$i]];}$hasil=$mdbenang['2'].$mdbenang['1'].$mdbenang['0'].$panjang.$hasilenc.$mdbenang['3'].$mdbenang['4'].$mdbenang['5'];break;case 'dec':$jumchar=$benang['3'];$sampai=4 + $jumchar;$benangasli='';for($i=4;$i<$sampai;$i++){$benangasli=$benangasli.$benang["$i"];}$hsldec='';for($i=0;$i<strlen($benangasli);$i++){$key=array_search($benangasli["$i"],$abj);$hsldec=$hsldec.$key;}$hasil=$hsldec;break;default:$hasil=false;break;}return $hasil;}function addHistory($historyType,$historyDesc,$historyReason=''){$currentHistoryTime=time();ue_query("INSERT INTO history VALUES('','$currentHistoryTime','$historyType','$historyDesc','$historyReason')");}function wordlimiter($limitedWord,$word_limit=10){$numberOfChar=strlen($limitedWord);if($numberOfChar>$word_limit){$limitedRes='';for($i=0;$i<$word_limit;$i++){$limitedRes.=$limitedWord["$i"];}$limitedRes.='...';}else{$limitedRes=$limitedWord;}return $limitedRes;}function guestLogout(){if($_SESSION['guestAccount']==true){unset($_SESSION['guestAccount']);unset($_SESSION['guestAccountDetails']['email']);unset($_SESSION['guestAccountDetails']['name']);unset($_SESSION['guestAccountDetails']['shippingid']);unset($_SESSION['guestAccountDetails']['address']);unset($_SESSION['guestAccountDetails']['postal']);unset($_SESSION['guestAccountDetails']['telp']);return true;}else{return false;}}function ueAutoLogin($ueAutoLoginCookie){$ueSignKeyClean=ueReceiveInput('ueSignKey',$ueAutoLoginCookie,false);$ueAutoLoginCookieArr=explode('##',$ueAutoLoginCookie);if(count($ueAutoLoginCookieArr)==2){$autoLoginQueryStr="SELECT * FROM user WHERE
			user_email = '".$ueAutoLoginCookieArr[0]."' AND
			user_rememberkey = '".$ueAutoLoginCookieArr[1]."'
		LIMIT 1
		";@ $autoLoginQueryResult=ue_query($autoLoginQueryStr);if(@(int)ue_num_rows($autoLoginQueryResult)==1){$autoLoginQueryResult=ue_fetch_array($autoLoginQueryResult);if($autoLoginQueryResult["user_enabled"]=='e'){$_SESSION['currentUserId']=$autoLoginQueryResult["user_id"];$passwordRememberHash=md5($globvar_adminidsite.$autoLoginQueryResult["user_password"].time().rand(1,999));$rememberQueryStr="UPDATE user SET
									user_rememberkey = '".$passwordRememberHash."'
									WHERE user_id = '".$autoLoginQueryResult["user_id"]."'
									LIMIT 1
				";@ $rememberQueryRes=ue_query($rememberQueryStr);if($rememberQueryRes){$ueSignKeyVal=$autoLoginQueryResult["user_email"].'##'.$passwordRememberHash;@ ue_setcookie('ueSignKey',$ueSignKeyVal,time()+2592000);}}}}}function getImageName($getImageNameProductId,$getImageNameProductColorPriority=''){if($getImageNameProductColorPriority!=''){$getImageColorQue=ue_query("SELECT productcolor_id FROM productcolor WHERE
			productcolor_enabled = 'e' AND
			product_id = '$getImageNameProductId' AND
			productcolor_id = '$getImageNameProductColorPriority'
		ORDER BY productcolor_showorder DESC LIMIT 1");$getImageColorRes=ue_fetch_array($getImageColorQue);}else{$getImageColorQue=ue_query("SELECT productcolor_id FROM productcolor WHERE
			productcolor_enabled = 'e' AND
			product_id = '$getImageNameProductId'
		ORDER BY productcolor_showorder DESC LIMIT 1");$getImageColorRes=ue_fetch_array($getImageColorQue);}$productImageQue=ue_query("SELECT productimage_image FROM productimage WHERE
		productimage_enabled = 'e' AND
		product_id = '$getImageNameProductId' AND
		productcolor_id = '".$getImageColorRes['productcolor_id']."'
	ORDER BY productimage_showorder DESC LIMIT 1");$productImageRes=ue_fetch_array($productImageQue);return $productImageRes['productimage_image'];}function getBrandName($getBrandNameProductId){$getBrandNameQue=ue_query("SELECT productbrand_name FROM productbrand WHERE productbrand_id = '$getBrandNameProductId' LIMIT 1");@ $getBrandNameRes=ue_fetch_array($getBrandNameQue);return $getBrandNameRes['productbrand_name'];}function cleanFileName($cleanFileNameStr){$cleanFileNameStr=str_replace(' ','-',$cleanFileNameStr);$notAllowedFileStrArr=array('/','\\','?','%','*',':','|','"','<','>','.','#','[',']','&',"'");return str_replace($notAllowedFileStrArr,'',$cleanFileNameStr);}function human_filesize($bytes,$decimals=0){$sz='BKMGTP';$factor=floor((strlen($bytes)- 1)/ 3);return sprintf("%.{$decimals}f",$bytes / pow(1024,$factor)).@$sz[$factor];}function ueDetectBrowser($ueDetectBrowserIsTabletEqualsMobile=false){$browser=new Browser();$detectBrowserRobot=$browser->isRobot();if(!$detectBrowserRobot){$detectBrowser=$browser->getBrowser();if($detectBrowser){$detectBrowserVer=$browser->getVersion();$detectBrowserOs=$browser->getPlatform();$detectBrowserMobile=$browser->isMobile();$detectBrowserTablet=$browser->isTablet();if($ueDetectBrowserIsTabletEqualsMobile==true&&$detectBrowserTablet==true){$detectBrowserMobile=true;}if($detectBrowserMobile){$detectBrowserType='mobile';}else if($detectBrowserTablet){$detectBrowserType='tablet';}else{$detectBrowserType='desktop';}$detectBrowserReturnArr=array();$detectBrowserReturnArr['name']=$detectBrowser;$detectBrowserReturnArr['ver']=$detectBrowserVer;$detectBrowserReturnArr['os']=$detectBrowserOs;$detectBrowserReturnArr['type']=$detectBrowserType;return $detectBrowserReturnArr;}}else{return false;}}function ueSinceTimestamp($ueGetSinceTimeStamp){$date=new \DateTime();$date->setTimestamp($ueGetSinceTimeStamp);$interval=$date->diff(new \DateTime('now'));$ueGetSinceReturnArray=array();$ueGetSinceReturnArray['year']=$interval->format('%y');$ueGetSinceReturnArray['month']=$interval->format('%m');$ueGetSinceReturnArray['day']=$interval->format('%d');$ueGetSinceReturnArray['hour']=$interval->format('%h');$ueGetSinceReturnArray['minute']=$interval->format('%i');return $ueGetSinceReturnArray;}include('ue-browserDetect.php');include('ue-imageuploader.php');?>